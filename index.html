<html>
  <body>
    <h1>HLO BUDDY</h1>
    <label for="firstName">FirstName :</label>
    <input type="text" id="firstName" name="firstName" required />
    <label for="lastName">LastName:</label>
    <input type="text" id="lastName" name="lastName" required />
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required />
    <button onclick="initEmbeddedMessaging()">Start Chat</button>
    <button onclick="clearFields()">Clear Fields</button>
    <script type='text/javascript'>
    	function initEmbeddedMessaging() {
        var emailNew = document.getElementById('email').value;
        var firstName = document.getElementById('firstName').value;
        var lastName = document.getElementById('lastName').value;
    		try {
    			embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
          window.addEventListener("onEmbeddedMessagingReady", function() {
                embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({
                    "accountKey": "t768768",
                    "email": emailNew,
                    "firstName": firstName,
                    "lastName": lastName
                });
            });
    			embeddedservice_bootstrap.init(
    				'00DO3000009OERJ',
    				'GIC_SVC_Chatbot',
    				'https://globalindustrial--srcdev.sandbox.my.site.com/ESWGICSVCChatbot1741784027375',
    				{
    					scrt2URL: 'https://globalindustrial--srcdev.sandbox.my.salesforce-scrt.com'
    				}
    			);
    		} catch (err) {
    			console.error('Error loading Embedded Messaging: ', err);
    		}
    	};

      function clearFields() {
        document.getElementById('firstName').value = '';
        document.getElementById('lastName').value = '';
        document.getElementById('email').value = '';
      }
    </script>
    <script type='text/javascript' src='https://globalindustrial--srcdev.sandbox.my.site.com/ESWGICSVCChatbot1741784027375/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
  </body>
</html>
